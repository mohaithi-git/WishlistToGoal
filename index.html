<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        :root {
            --navy: #003366;
            --red: #E31837;
            --slate: #f4f7f9;
            --white: #ffffff;
            --gold: #b2975d;
            --gray-out: #d1d5db;
            --success: #28a745;
        }

        body { 
            font-family: -apple-system, system-ui, sans-serif; 
            background-color: var(--slate); margin: 0; color: #333;
        }

        header {
            background: var(--white); padding: 1rem 5%;
            border-bottom: 3px solid var(--red);
            display: flex; justify-content: space-between; align-items: center;
            position: sticky; top: 0; z-index: 1000;
        }

        #dash-link {
            color: var(--navy); font-weight: bold; text-decoration: none;
            font-size: 0.85rem; border: 1px solid var(--navy);
            padding: 8px 16px; border-radius: 4px;
            opacity: 0; transform: translateX(20px);
            transition: all 0.5s ease; pointer-events: none;
        }
        #dash-link.visible { opacity: 1; transform: translateX(0); pointer-events: auto; }

        .container { width: 100%; max-width: 1100px; margin: 0 auto; padding: 20px; }

        .wishlist-nav {
            display: flex; gap: 15px; overflow-x: auto;
            padding: 10px 5px 25px 5px; scrollbar-width: none;
            -webkit-overflow-scrolling: touch;
        }
        .wishlist-nav::-webkit-scrollbar { display: none; }

        .wish-card {
            background: var(--white); padding: 20px; border-radius: 4px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.06); cursor: pointer;
            flex: 0 0 220px; border-bottom: 4px solid transparent;
            transition: 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
        }
        .wish-card.active { border-bottom-color: var(--red); transform: translateY(-5px); }
        .wish-card.activated { background: #f0f0f0; cursor: default; opacity: 0.7; pointer-events: none; }

        .status-badge {
            display: none; position: absolute; top: 10px; right: 10px;
            font-size: 0.6rem; background: var(--success);
            color: white; padding: 2px 8px; border-radius: 10px;
        }
        .wish-card.activated .status-badge { display: block; }

        .ai-vault { background: var(--white); border-radius: 8px; box-shadow: 0 4px 25px rgba(0,0,0,0.08); overflow: hidden; position: relative; }
        .ai-track { display: flex; transition: transform 0.6s ease-in-out; }
        .ai-panel { min-width: 100%; padding: 60px 10%; box-sizing: border-box; text-align: center; }
        .ai-panel p { font-size: 1.6rem; color: var(--navy); font-weight: 300; margin-bottom: 30px; }

        .btn-convert { background: var(--red); color: white; padding: 18px 50px; border: none; border-radius: 2px; font-weight: bold; cursor: pointer; }

        #active-dashboard {
            margin-top: 40px; display: none;
            background: var(--navy); color: white; padding: 30px; border-radius: 8px;
        }
        .dash-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-top: 20px; }
        .stat-box { background: rgba(255,255,255,0.1); padding: 15px; border-radius: 4px; }

        #goal-drawer {
            position: fixed; bottom: -100%; left: 0; width: 100%; height: 80vh;
            background: var(--white); border-top: 5px solid var(--navy);
            box-shadow: 0 -15px 50px rgba(0,0,0,0.3);
            transition: 0.6s ease-out; z-index: 2000; padding: 40px 20px; box-sizing: border-box;
        }
        #goal-drawer.open { bottom: 0; }
        .confirm-btn { background: var(--navy); color: white; width: 100%; padding: 20px; border: none; font-weight: bold; cursor: pointer; }

        .progress-line { height: 5px; background: var(--navy); width: 0%; position: absolute; bottom: 0; }
    </style>
</head>
<body>

<header>
    <div style="font-weight: 900; color: var(--navy);">LIFE PLAN</div>
    <a href="#active-dashboard" id="dash-link">VIEW DASHBOARD</a>
</header>

<div class="container">
    <div class="wishlist-nav" id="wish-nav"></div>
    <div class="ai-vault">
        <div class="ai-track" id="ai-track"></div>
        <div class="progress-line" id="progress"></div>
    </div>

    <div id="active-dashboard">
        <h3 style="margin: 0; color: var(--gold);">STRATEGY MONITORING</h3>
        <div class="dash-grid" id="dash-items"></div>
    </div>
</div>

<div id="goal-drawer">
    <div style="text-align: center; max-width:400px; margin: 0 auto;">
        <h2 style="color:var(--navy);">Confirm Activation</h2>
        <p id="confirm-text"></p>
        <button class="confirm-btn" onclick="finalizeActivation()">ACTIVATE GOAL</button>
        <p onclick="closeDrawer()" style="color:var(--red); text-align:center; cursor:pointer; margin-top:20px;">CANCEL</p>
    </div>
</div>

<script>
    const wishlist = [
        { name: "Dream home in 5 years", years: 5, cost: 1850, text: "Your <b>dream home</b> is not 5 years away. One <b>smart step today</b> puts the keys in your hand in 5 years.", activated: false },
        { name: "Wedding Fund in 2 years", years: 2, cost: 650, text: "Your <b>perfect day</b> deserves a stress-free start. Locking in <b>today's rates</b> ensures a legacy celebration in 24 months.", activated: false },
        { name: "Global Travel in 1 year", years: 1, cost: 400, text: "The <b>world</b> is ready for you. A <b>savings allocation today</b> guarantees your departure in 12 months.", activated: false },
        { name: "Luxury SUV in 3 years", years: 3, cost: 950, text: "The <b>road ahead</b> looks premium. A <b>dedicated vehicle fund</b> today puts you in the driver's seat by 2029.", activated: false },
        { name: "Masters Degree in 2 years", years: 2, cost: 1200, text: "Invest in <b>yourself</b> first. An <b>education bridge</b> today unlocks your promotion and new opportunities.", activated: false },
        { name: "Emergency Fund in 1 year", years: 1, cost: 500, text: "Financial <b>peace of mind</b> is a priority. Build your <b>safety net</b> to cover 6 months of living expenses.", activated: false }
    ];

    let current = 0;
    const nav = document.getElementById('wish-nav');
    const track = document.getElementById('ai-track');
    const progress = document.getElementById('progress');

    function renderUI() {
        nav.innerHTML = wishlist.map((d, i) => `
            <div class="wish-card ${i===current?'active':''} ${d.activated?'activated':''}" onclick="jumpTo(${i})">
                <span class="status-badge">ACTIVE</span>
                <h4>${d.name}</h4>
                <p>Horizon: ${d.years} Years</p>
            </div>
        `).join('');

        track.innerHTML = wishlist.map((d, i) => `
            <div class="ai-panel">
                <p>${d.text}</p>
                <button class="btn-convert ${d.activated?'disabled':''}" onclick="${d.activated?'': 'openDrawer()'}">
                    ${d.activated ? 'GOAL ACTIVE' : 'CONVERT TO GOAL'}
                </button>
            </div>
        `).join('');

        updateDashboard();
    }

    function updateDashboard() {
        const activeGoals = wishlist.filter(g => g.activated);
        const dash = document.getElementById('active-dashboard');
        const dashItems = document.getElementById('dash-items');
        const dashLink = document.getElementById('dash-link');

        if(activeGoals.length > 0) {
            dash.style.display = 'block';
            dashLink.classList.add('visible');
            const totalMonthly = activeGoals.reduce((sum, g) => sum + g.cost, 0);
            
            dashItems.innerHTML = `
                <div class="stat-box">
                    <small>TOTAL COMMITMENT</small>
                    <div style="font-size:1.5rem; font-weight:bold;">$${totalMonthly.toLocaleString()} /mo</div>
                </div>
                ${activeGoals.map(g => `
                    <div class="stat-box">
                        <small>${g.name.toUpperCase()}</small>
                        <div style="font-size:1rem; font-weight:bold;">$${g.cost}/mo</div>
                    </div>
                `).join('')}
            `;
        }
    }

    function jumpTo(idx) { if(wishlist[idx].activated) return; current = idx; updatePosition(); }

    function updatePosition() {
        track.style.transform = `translateX(-${current * 100}%)`;
        renderUI();
        resetTimer();
    }

    function openDrawer() {
        document.getElementById('confirm-text').innerHTML = `Activate your strategy for <b>${wishlist[current].name}</b>?`;
        document.getElementById('goal-drawer').classList.add('open');
    }

    function closeDrawer() { document.getElementById('goal-drawer').classList.remove('open'); }

    function finalizeActivation() {
        wishlist[current].activated = true;
        closeDrawer();
        renderUI();
        setTimeout(() => {
            let nextIndex = (current + 1) % wishlist.length;
            while(wishlist[nextIndex].activated && wishlist.some(g => !g.activated)) {
                nextIndex = (nextIndex + 1) % wishlist.length;
            }
            current = nextIndex;
            updatePosition();
        }, 800);
    }

    function resetTimer() {
        progress.style.transition = 'none';
        progress.style.width = '0%';
        setTimeout(() => { progress.style.transition = 'width 6000ms linear'; progress.style.width = '100%'; }, 50);
    }

    setInterval(() => {
        if(!document.getElementById('goal-drawer').classList.contains('open') && wishlist.some(g => !g.activated)) {
            let startIndex = current;
            do { current = (current + 1) % wishlist.length; } 
            while (wishlist[current].activated && current !== startIndex);
            updatePosition();
        }
    }, 6000);

    renderUI();
    resetTimer();
</script>
</body>
</html>
